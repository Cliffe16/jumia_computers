import requests
import pandas as pd
from bs4 import BeautifulSoup

url = "https://www.jumia.co.ke/computing/"	
html = requests.get(url).text
soup = BeautifulSoup(html, "html.parser")	

def scraper(url):
	cards = soup.select("article.prd")
	images = soup.select("img")
	
	# Empty list for the products
	products = []
	
	#Loop through products
	for card in cards:
		# product name
	        item_name = card.select_one("h3.name")
        	item_name = item_name.text.strip() if item_name else None

	        # current price
	        current_price = card.select_one("div.prc")
	        current_price = current_price.text.strip() if current_price else None

	        # old price
	        old_price = card.select_one("div.old")
	        old_price = old_price.text.strip() if old_price else None

	        # discount
	        discount_pct = card.select_one("div.bdg._dsct")
	        discount_pct = discount_pct.text.strip() if discount_pct else None

	        # link
	        link = card.select_one("a.core")
	        product_link = "https://www.jumia.co.ke" + link["href"] if link else None
		
		if all([item_name, current_price, old_price, discount_pct, product_link]):
			products.append({
				"item_name": item_name,
				"current_price": current_price,
				"old_price": old_price,
				"discount_pct": discount_pct,
				"product_link": product_link
				})
return pd.DataFrame(products)

data = scraper(url)
print(data)
